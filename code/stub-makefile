solution := example.scm

chez := scheme
chez-args := --script test.scm

guile := guile
guile-args := --no-auto-compile -q -l test.scm -c

run-test = \
	"(when (eq? 'failure (test 'input 'output 'who)) (error '$(1) \"incorrect implementation\"))"

help :
	echo "Test your solutions from the command line by calling make check-* where * is the name of your scheme."

check-all : check-chez check-guile

check-chez :
	$(chez) --script test.scm

check-guile :
	$(guile) --no-auto-compile -q test.scm

.PHONY : help check-all check-chez check-guile
